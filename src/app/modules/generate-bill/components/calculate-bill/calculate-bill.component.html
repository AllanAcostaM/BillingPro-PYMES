<header class="modules__header">
  <!-- Header calculate bill-->
  <div class="modules__header-top">
    <div class="modules__header-texts">
      <!-- 1) Pages / modules -->
      <p class="modules__crumbs" appAnimateOnScroll="animate__fadeIn">
        Pages / Generate Bill
      </p>

      <!-- 2) Main Dashboard -->
      <h3 class="modules__main-title" appAnimateOnScroll="animate__fadeIn">
        Generate Bill
      </h3>

      <!-- 3) Lalitpur Branch -->
      <p class="modules__branch" appAnimateOnScroll="animate__fadeIn">
        Lalitpur Branch
      </p>
    </div>

    <!-- Search bar -->
    <div class="modules__search" appAnimateOnScroll>
      <div class="modules__search-outer">
        <div class="modules__search-inner">
          <mat-icon class="modules__search-icon" aria-hidden="true"
            >search</mat-icon
          >
          <input
            type="text"
            class="modules__search-input"
            placeholder="Search"
          />
        </div>
        <img
          src="../../../assets/images/profile.png"
          alt="Search Avatar"
          class="modules__search-image"
        />
      </div>
    </div>
  </div>
</header>

<!-- Content Main Calculate Bill -->
<main class="generate-bill__main">
  <section
    class="generate-bill__calculate-bill"
    appAnimateOnScroll="animate__fadeIn"
  >
    <!-- Header -->
    <div class="generate-bill__calculate-bill-header">
      <p class="generate-bill__calculate-bill-title">Calculate Bill</p>
    </div>

    <!-- Form -->
    <form
      class="generate-bill__form formModules"
      [formGroup]="form"
      (ngSubmit)="submitForm()"
    >
      <!-- UID -->
      <div class="generate-bill__form-group">
        <label class="form__label" for="uid">UID</label>
        <div class="form__field--with-icon">
          <input
            id="uid"
            type="text"
            class="form__input"
            placeholder="Enter UID"
            autocomplete="off"
            formControlName="uid"
            [ngClass]="{ input_error: isFieldInvalid('uid') }"
          />
        </div>
        <div *ngIf="hasError('uid', 'required')" class="error">
          UID is required.
        </div>
      </div>

      <!-- Date & Due Date (side by side) -->
      <div class="generate-bill__form-row">
        <div class="generate-bill__form-group--half">
          <label class="form__label" for="date">Date</label>
          <div class="form__field--with-icon">
            <input
              id="date"
              matInput
              [matDatepicker]="picker1"
              class="form__input"
              placeholder="Select date"
              formControlName="date"
              [ngClass]="{ input_error: isFieldInvalid('date') }"
            />
            <mat-icon
              class="form__icon"
              (click)="picker1.open()"
              aria-hidden="true"
            >
              calendar_today
            </mat-icon>
            <mat-datepicker
              #picker1
              panelClass="custom-datepicker-panel"
            ></mat-datepicker>
          </div>
          <div *ngIf="hasError('date', 'required')" class="error">
            Date is required.
          </div>
        </div>

        <div class="generate-bill__form-group--half">
          <label class="form__label" for="dueDate">Due Date</label>
          <div class="form__field--with-icon">
            <input
              id="dueDate"
              matInput
              [matDatepicker]="picker2"
              class="form__input"
              placeholder="Select due date"
              formControlName="dueDate"
              [ngClass]="{ input_error: isFieldInvalid('dueDate') }"
            />
            <mat-icon
              class="form__icon"
              (click)="picker2.open()"
              aria-hidden="true"
            >
              calendar_today
            </mat-icon>
            <mat-datepicker
              #picker2
              panelClass="custom-datepicker-panel"
            ></mat-datepicker>
          </div>
          <div *ngIf="hasError('dueDate', 'required')" class="error">
            Due date is required.
          </div>
        </div>
      </div>

      <!-- Units -->
      <div class="generate-bill__form-group">
        <label class="form__label" for="units">Units</label>
        <div class="form__field--with-icon">
          <input
            id="units"
            type="number"
            class="form__input"
            placeholder="Enter units"
            autocomplete="off"
            formControlName="units"
            [ngClass]="{ input_error: isFieldInvalid('units') }"
          />
        </div>
        <div *ngIf="hasError('units', 'required')" class="error">
          Units is required.
        </div>
      </div>

      <!-- Bill Due -->
      <div class="generate-bill__form-group">
        <label class="form__label" for="billDue">Bill Due</label>
        <div class="form__field--with-icon">
          <input
            id="billDue"
            type="text"
            class="form__input"
            placeholder="Rs. 0"
            formControlName="billDue"
            readonly
          />
        </div>
      </div>

      <!-- Submit Button -->
      <div class="generate-bill__form-actions">
        <button appAnimateOnScroll type="submit" class="form__button">
          Calculate
        </button>
      </div>
    </form>
  </section>
</main>
